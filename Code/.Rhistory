knitr::opts_chunk$set(echo = TRUE)
combined_data %>%
ggplot(aes(x=genus))+
geom_histogram()
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35)
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "genus", "year")
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39)
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year")
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
combined_data %>%
ggplot(aes(x=genus))+
geom_histogram()
combined_data %>%
ggplot(aes(x=canopyCoverPercent))+
geom_histogram()
knitr::opts_chunk$set(echo = TRUE)
combined_data %>%
ggplot(aes(x=canopyCoverPercent))+
geom_histogram()
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35)
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "genus", "year")
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39)
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year")
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
combined_data %>%
ggplot(aes(x=canopyCoverPercent))+
geom_histogram()
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyr)
library(ggplot2)
library(ggplot2)
library(lubridate)
library(readr)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35)
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "genus", "year")
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39)
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year")
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram()
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent))
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent))
combined_data_group %>%
ggplot(aes(x = cover.average, y = species.richness)) +
geom_point(aes(color = combined_data_group$siteID)) +
geom_smooth(method = "lm", color = "black")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
plot(model_test)
model_test <- lm(species.richness ~ cover.average, data = combined_data_group)
summary(model_test)
plot(model_test)
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
knitr::opts_chunk$set(echo = TRUE)
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram()
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent))
combined_data_group %>%
ggplot(aes(x = cover.average, y = species.richness)) +
geom_point(aes(color = combined_data_group$siteID)) +
geom_smooth(method = "lm", color = "black")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = cover.average, fill = year_character)) +
geom_col(position = "dodge")
plot(model_test)
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = cover.average, fill = year_character)) +
geom_col(position = "dodge")
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35)
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "genus", "year")
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39)
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>%
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year")
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>%
relocate(year, .before = siteID)
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram()
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent))
combined_data_group %>%
ggplot(aes(x = cover.average, y = species.richness)) +
geom_point(aes(color = combined_data_group$siteID)) +
geom_smooth(method = "lm", color = "black")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge")
combined_data_group %>%
drop_na() %>%
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = cover.average, fill = year_character)) +
geom_col(position = "dodge")
knitr::opts_chunk$set(echo = TRUE)
#loading packages for tidyverse and ggplot
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
#recalling individual data sets from Jonathan's D08 MAYF
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
#recalling individual data sets from Callie's D17 BIGC
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
#recalling individual data sets from Chelsey's D18 OKSR
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35) #combining all macroinvertebrate data into one data frame
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>% #Collapsing collectDate into a year column
group_by(siteID, year) %>%
select("siteID", "genus", "year") #removing unneeded columns
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39) #combining all riparian data into one data frame
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>% #Same as line 65
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year") #Same as line 67
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>% #Joining macroinvertebrate data and riparian data into a single data frame based on shared siteID and year
relocate(year, .before = siteID) #moving year column before siteID to improve aesthetic
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram() #ggplot histogram of count data for canopy cover percent
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent)) #creating species richness and average canopy cover per site per year
combined_data_group %>%
ggplot(aes(x = cover.average, y = species.richness)) +
geom_point(aes(color = combined_data_group$siteID)) + #adding in data points to scatter
geom_smooth(method = "lm", color = "black") #adding linear regression line
combined_data_group$year_character <- as.character(combined_data_group$year) #changing variable type to character to improve aesthetic
combined_data_group %>%
drop_na() %>% #removing years with no recordings
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge") #bar plot of species richness grouped by site and year
model_test <- lm(species.richness ~ cover.average, data = combined_data_group) #establishing linear regression model test for species.richness predicted by cover.average
summary(model_test) #
plot(model_test)
combined_data_group$year_character <- as.character(combined_data_group$year) #same as line 102
combined_data_group %>%
drop_na() %>% #same as 104
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = cover.average, fill = year_character)) +
geom_col(position = "dodge") #bar plot of cover.average grouped by siteID and year
knitr::opts_chunk$set(echo = TRUE)
combined_data_group %>%
drop_na() %>% #removing years with no recordings
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge") #bar plot of species richness grouped by site and year
library(lubridate)
library(readr)
#recalling individual data sets from Jonathan's D08 MAYF
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
#recalling individual data sets from Callie's D17 BIGC
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
#recalling individual data sets from Chelsey's D18 OKSR
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35) #combining all macroinvertebrate data into one data frame
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram() #ggplot histogram of count data for canopy cover percent
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent)) #creating species richness and average canopy cover per site per year
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent)) #creating species richness and average canopy cover per site per year
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35) #combining all macroinvertebrate data into one data frame
#recalling individual data sets from Callie's D17 BIGC
data21 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T191616Z.csv")
data22 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T162452Z 2.csv")
data23 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222632Z.csv")
data24 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2018-07.basic.20230112T002002Z.csv")
data25 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T002213Z.csv")
data26 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
data27 <- read.csv("../data/processed/D17 BIGC/NEON.D17.BIGC.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T001807Z.csv")
#recalling individual data sets from Chelsey's D18 OKSR
data31 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T171622Z.csv")
data32 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T182544Z.csv")
data33 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T174721Z.csv")
data34 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T220306Z.csv")
data35 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T222833Z.csv")
data36 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2017-07.basic.20230112T002307Z.csv")
data37 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2019-07.basic.20230112T001757Z.csv")
data38 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2021-07.basic.20230112T002024Z.csv")
data39 <- read.csv("../data/processed/D18 OKSR/NEON.D18.OKSR.DP1.20191.001.rip_percentComposition.2022-07.basic.20230112T001943Z.csv")
#recalling individual data sets from Jonathan's D08 MAYF
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35) #combining all macroinvertebrate data into one data frame
#recalling individual data sets from Jonathan's D08 MAYF
data11 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2017-07.expanded.20221122T184910Z.csv")
data12 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2018-07.expanded.20221128T184824Z.csv")
data13 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2019-07.expanded.20221128T173134Z.csv")
data14 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2020-07.expanded.20221128T212351Z.csv")
data15 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20120.001.inv_taxonomyProcessed.2021-07.expanded.20221129T232348Z.csv")
data16 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2017-08.basic.20230112T002045Z.csv")
data17 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2018-08.basic.20230112T002023Z.csv")
data18 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2019-08.basic.20230112T001825Z.csv")
data19 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2021-08.basic.20230112T002158Z.csv")
data110 <- read.csv("../data/processed/D08 MAYF/NEON.D08.MAYF.DP1.20191.001.rip_percentComposition.2022-08.basic.20230112T002125Z.csv")
#loading packages for tidyverse and ggplot
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
#loading packages for tidyverse and ggplot
library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)
library(readr)
all_macroinvert <- bind_rows(data11,data12,data13,data14,data15,data21,data22,data23,data31,data32,data33,data34,data35) #combining all macroinvertebrate data into one data frame
all_macroinvert_year <- all_macroinvert %>%
mutate(year = floor_date(as.Date(collectDate), unit = "year")) %>% #Collapsing collectDate into a year column
group_by(siteID, year) %>%
select("siteID", "genus", "year") #removing unneeded columns
all_riparian <- bind_rows(data16,data17,data18,data19,data110,data24,data25,data26,data27,data36,data37,data38,data39) #combining all riparian data into one data frame
all_riparian_year <- all_riparian %>%
mutate(year = floor_date(as.Date(startDate), unit = "year")) %>% #Same as line 65
group_by(siteID, year) %>%
select("siteID", "canopyCoverPercent", "year") #Same as line 67
combined_data <- left_join(all_macroinvert_year,all_riparian_year, by = c("siteID","year")) %>% #Joining macroinvertebrate data and riparian data into a single data frame based on shared siteID and year
relocate(year, .before = siteID) #moving year column before siteID to improve aesthetic
combined_data %>%
ggplot(aes(x=canopyCoverPercent)) +
geom_histogram() #ggplot histogram of count data for canopy cover percent
combined_data_group <- combined_data %>%
group_by(siteID, year) %>%
summarise(species.richness = unique(length(genus)), cover.average = mean(canopyCoverPercent)) #creating species richness and average canopy cover per site per year
combined_data_group %>%
ggplot(aes(x = cover.average, y = species.richness)) +
geom_point(aes(color = combined_data_group$siteID)) + #adding in data points to scatter
geom_smooth(method = "lm", color = "black") #adding linear regression line
combined_data_group$year_character <- as.character(combined_data_group$year) #changing variable type to character to improve aesthetic
combined_data_group %>%
drop_na() %>% #removing years with no recordings
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = species.richness, fill = year_character)) +
geom_col(position = "dodge") #bar plot of species richness grouped by site and year
model_test <- lm(species.richness ~ cover.average, data = combined_data_group) #establishing linear regression model test for species.richness predicted by cover.average
summary(model_test) #
plot(model_test)
combined_data_group$year_character <- as.character(combined_data_group$year) #same as line 102
combined_data_group %>%
drop_na() %>% #same as 104
group_by(siteID, year_character) %>%
ggplot(aes(x = siteID, y = cover.average, fill = year_character)) +
geom_col(position = "dodge") #bar plot of cover.average grouped by siteID and year
